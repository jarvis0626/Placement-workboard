<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Jobs - PlacementPro</title>
  <link rel="stylesheet" href="assets/css/style.css"/>
</head>
<body>
  <!-- Top Navigation (consistent with dashboard) -->
  <nav class="navbar">
    <div class="nav-container" style="display:flex; justify-content:space-between; align-items:center; width:100%;">
      <div class="nav-left" style="display:flex; align-items:center; gap:1.5rem;">
        <h2 style="margin:0;">PlacementPro</h2>
        <a href="dashboard-student.html" class="nav-link">Dashboard</a>
      </div>
      <div class="nav-right" style="display:flex; align-items:center; gap:1.5rem;">
        <a href="jobs.html" class="nav-link active">Jobs</a>
        <a href="profile.html" class="nav-link">Profile</a>
        <a href="interviews.html" class="nav-link">Interviews</a>
      </div>
    </div>
  </nav>

  <div class="app-container">
    <div class="dashboard">
      <div class="main-content">
        <div class="dashboard-container">

          <!-- Page Header -->
          <div class="dashboard-card" style="max-width:1200px; width:100%;">
            <div class="card-header">
              <h3>Available Jobs</h3>
              <div class="filters-container" style="display:flex; gap:0.75rem; flex-wrap:wrap;">
                <input id="search-jobs" type="search" placeholder="Search by title, company, skill..." class="search-input"/>
                <select id="filter-company" class="filter-select">
                  <option value="">All companies</option>
                </select>
                <select id="filter-branch" class="filter-select">
                  <option value="">All branches</option>
                </select>
                <select id="filter-type" class="filter-select">
                  <option value="">All types</option>
                  <option value="Full-time">Full-time</option>
                  <option value="Internship">Internship</option>
                </select>
              </div>
            </div>

            <!-- Jobs List -->
            <div id="jobs-list" class="card-content" style="width:100%; display:grid; grid-template-columns:repeat(auto-fill,minmax(320px,1fr)); gap:1rem;">
              <!-- Populated by jobs.js -->
              <div class="job-item empty-state" id="jobs-empty">No jobs found.</div>
            </div>
          </div>

          <!-- Toast -->
          <div id="toast" class="toast hidden"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts (order matters: Supabase, common utilities, then page logic) -->
  <script type="module" src="assets/js/supabase-config.js"></script>
  <script src="assets/js/common.js"></script>
  <script src="assets/js/jobs.js"></script>

  <style>
    :root{
      --color-primary:#38bdf8;
      --color-bg-1:#232946;
      --color-surface:#232946;
      --color-card-border-inner:#374151;
      --color-btn-primary-text:#fff;
    }
    body{
      margin:0; padding:0; background:#181a1b; color:#fff;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Noto Color Emoji",sans-serif;
    }
    .navbar{
      position:fixed; top:0; left:0; width:100vw;
      background-color:#232946; color:#fff;
      display:flex; justify-content:space-between; padding:1rem 2rem;
      box-shadow:0 4px 8px rgba(0,0,0,0.1); z-index:100;
    }
    .app-container{ margin-top:80px; display:flex; flex-direction:column; align-items:center; width:100vw; }
    .dashboard-container{ max-width:1200px; margin:0 auto; display:flex; flex-direction:column; align-items:center; gap:20px; padding:0 16px; }

    .dashboard-card{
      background:var(--color-surface);
      border-radius:16px; box-shadow:0 8px 32px rgba(0,0,0,0.10);
      width:100%; overflow:hidden; display:flex; flex-direction:column; align-items:center;
    }
    .card-header{
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      padding:2rem 1.5rem 1rem 1.5rem; border-bottom:1px solid var(--color-card-border-inner);
      background:var(--color-bg-1); width:100%;
    }
    .card-header h3{ margin:0 0 0.75rem 0; font-size:1.7rem; color:var(--color-primary); font-weight:700; text-align:center; }
    .card-content{ padding:1.5rem; width:100%; }
    .filter-select,.search-input{
      padding:0.5rem; border:1px solid #374151; border-radius:6px; background:#1f2937; color:#fff; font-size:0.95rem;
    }

    /* Job card */
    .job-card{
      background:#1e293b; border:1px solid #374151; border-radius:10px; padding:1rem 1.25rem;
      display:flex; flex-direction:column; gap:0.5rem;
    }
    .job-title{ font-size:1.1rem; font-weight:700; color:#e2e8f0; margin:0; }
    .job-meta{ display:flex; gap:0.75rem; flex-wrap:wrap; font-size:0.9rem; color:#cbd5e1; }
    .job-desc{ color:#cbd5e1; font-size:0.95rem; }
    .job-footer{ display:flex; justify-content:space-between; align-items:center; margin-top:0.5rem; }
    .chip{ background:#0f172a; border:1px solid #334155; border-radius:999px; padding:0.15rem 0.6rem; font-size:0.75rem; color:#cbd5e1; }
    .btn{ background:#374151; color:#fff; border:none; padding:0.5rem 1rem; border-radius:6px; font-weight:600; cursor:pointer; transition:background 0.2s; font-size:0.9rem; }
    .btn:hover{ opacity:0.9; }
    .btn--primary{ background:#38bdf8; }
    .btn--primary:hover{ background:#2563eb; }
    .empty-state{ text-align:center; color:#6b7280; padding:2rem; font-size:1.1rem; }

    .toast{ position:fixed; top:100px; right:20px; padding:1rem 1.5rem; border-radius:6px; color:#fff; font-weight:600; z-index:300; transition:opacity 0.3s ease; }
    .toast.hidden{ opacity:0; pointer-events:none; }
    .toast.info{ background:#38bdf8; } .toast.success{ background:#10b981; } .toast.danger{ background:#ef4444; }

    @media (max-width:768px){
      .filters-container{ width:100%; flex-direction:column; align-items:stretch; }
      #jobs-list{ grid-template-columns:1fr; }
    }
  </style>
</body>
</html>
